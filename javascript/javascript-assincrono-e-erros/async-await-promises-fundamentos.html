<!--
========================================================
PARTE 1 ‚Äî PROMISE, ASYNC E AWAIT
Autor: Mikael Juliao
Objetivo: Entender DO ZERO, com profundidade
========================================================


====================================
1. PRIMEIRO DE TUDO: O PROBLEMA REAL
====================================

No JavaScript, algumas opera√ß√µes DEMORAM:
- Buscar dados de uma API
- Ler arquivos
- Esperar tempo (setTimeout)
- Acessar banco de dados

Essas coisas N√ÉO acontecem instantaneamente.

Se o JavaScript fosse esperar tudo terminar:
‚ùå A aplica√ß√£o travaria
‚ùå A tela congelaria
‚ùå O usu√°rio ficaria esperando

Ent√£o o JS precisa de uma forma de dizer:
"Isso aqui vai demorar, mas n√£o trava o resto do c√≥digo"


====================================
2. PROMISE ‚Äî O CONCEITO MAIS IMPORTANTE
====================================

Promise √© um OBJETO que representa algo que:
- Ainda N√ÉO aconteceu
- Mas VAI acontecer no futuro

Uma Promise √© como uma "promessa" mesmo:
üëâ "Eu prometo que vou te entregar um resultado depois"

Ela pode terminar de 2 formas:
- Sucesso  ‚Üí resolve(valor)
- Erro     ‚Üí reject(erro)

Estados da Promise:
- pending   ‚Üí ainda acontecendo
- fulfilled ‚Üí sucesso
- rejected  ‚Üí erro


====================================
3. PROMISE NA PR√ÅTICA (EXEMPLO SIMPLES)
====================================

Exemplo mental:
"Vou buscar dados na internet, mas isso demora"

C√≥digo:

function buscarDados() {
  return new Promise((resolve, reject) => {
    setTimeout(() => {
      resolve("Dados carregados");
    }, 2000);
  });
}

‚û°Ô∏è Aqui estamos CRIANDO uma Promise manualmente
‚û°Ô∏è Depois de 2 segundos, ela se resolve


====================================
4. COMO USAR PROMISE (SEM ASYNC/AWAIT)
====================================

buscarDados()
  .then(resultado => {
    console.log(resultado);
  })
  .catch(erro => {
    console.error(erro);
  });

‚ùå Funciona
‚ùå Mas come√ßa a ficar confuso em projetos grandes
‚ùå C√≥digo cresce para a direita
‚ùå Dif√≠cil de ler


====================================
5. POR QUE O ASYNC/AWAIT EXISTE?
====================================

Async/Await foi criado para:
- Trabalhar com Promises
- Mas escrever c√≥digo como se fosse s√≠ncrono
- Deixar tudo mais leg√≠vel

‚ö†Ô∏è IMPORTANTE:
Async/Await N√ÉO substitui Promise
Async/Await √â UMA FORMA MAIS SIMPLES DE USAR Promise


====================================
6. O QUE √â ASYNC (EXPLICA√á√ÉO PROFUNDA)
====================================

Quando voc√™ coloca "async" em uma fun√ß√£o, voc√™ est√° dizendo:

üß† "Essa fun√ß√£o pode demorar"
üß† "N√£o espere ela terminar agora"
üß† "Ela vai rodar de forma ass√≠ncrona"
üß† "Ela SEMPRE retorna uma Promise"

Exemplo:

async function exemplo() {
  return 10;
}

Mesmo retornando 10,
o retorno REAL √©:
Promise.resolve(10)

‚û°Ô∏è async marca a fun√ß√£o como:
"Essa fun√ß√£o trabalha com c√≥digo que pode demorar"


====================================
7. O QUE ASYNC N√ÉO FAZ (IMPORTANTE)
====================================

‚ùå async N√ÉO faz o c√≥digo rodar em paralelo
‚ùå async N√ÉO cria multithread
‚ùå async N√ÉO deixa o c√≥digo mais r√°pido

‚úîÔ∏è async apenas:
- Evita travar o fluxo principal
- Permite usar await
- Retorna Promise automaticamente


====================================
8. O QUE √â AWAIT (EXPLICA√á√ÉO PROFUNDA)
====================================

await significa literalmente:
‚û°Ô∏è "ESPERE isso aqui terminar"

Mas aten√ß√£o:
- await N√ÉO trava o JavaScript inteiro
- await pausa APENAS aquela fun√ß√£o async
- O resto do sistema continua funcionando

Exemplo:

async function executar() {
  const resultado = await buscarDados();
  console.log(resultado);
}

‚û°Ô∏è A fun√ß√£o espera a Promise resolver
‚û°Ô∏è O JS continua vivo por fora


====================================
9. REGRA DE OURO DO AWAIT
====================================

await S√ì pode ser usado:
‚úîÔ∏è Dentro de fun√ß√£o async

Isso N√ÉO funciona:
const dados = await buscarDados(); ‚ùå

Isso funciona:
async function f() {
  const dados = await buscarDados(); ‚úîÔ∏è
}


====================================
10. CONEX√ÉO MENTAL (GUARDE ISSO)
====================================

Promise ‚Üí representa algo futuro
async   ‚Üí diz que a fun√ß√£o retorna Promise
await   ‚Üí espera a Promise resolver

üëâ Tudo gira em torno de Promise


====================================
11. FETCH E PROMISE (MUNDO REAL)
====================================

fetch() √© uma fun√ß√£o que:
- SEMPRE retorna uma Promise

Exemplo:
const responsePromise = fetch(url);

‚û°Ô∏è responsePromise ainda N√ÉO √© a resposta
‚û°Ô∏è √â apenas a PROMISE da resposta


====================================
12. FETCH COM ASYNC/AWAIT
====================================

async function carregar() {
  const response = await fetch(url);
  const data = await response.json();
  return data;
}

‚û°Ô∏è fetch retorna Promise
‚û°Ô∏è await espera
‚û°Ô∏è response.json tamb√©m retorna Promise
‚û°Ô∏è await espera novamente


====================================
13. COMPLEMENTO ‚Äî EXEMPLO DO SEU PROJETO
====================================

C√≥digo:

export async function getAllProducts(): Promise<Product[]> {

  const response = await fetch(API_URL)

  if (!response.ok){
    throw new Error('Erro ao buscar produtos')
  }

  const data = (await response.json()) as Product[]

  return data
}

EXPLICA√á√ÉO CONCEITUAL:

1Ô∏è‚É£ async
Voc√™ est√° dizendo:
"Essa fun√ß√£o busca dados externos e pode demorar"

2Ô∏è‚É£ Retorno Promise<Product[]>
Voc√™ deixa expl√≠cito no TypeScript:
"Quem chamar essa fun√ß√£o vai receber uma Promise de produtos"

3Ô∏è‚É£ fetch
fetch retorna uma Promise ‚Üí await espera a resposta

4Ô∏è‚É£ response.json
Tamb√©m retorna Promise ‚Üí await espera os dados

5Ô∏è‚É£ return data
Isso vira automaticamente:
Promise.resolve(data)

‚û°Ô∏è Esse c√≥digo est√° 100% alinhado com boas pr√°ticas
‚û°Ô∏è √â exatamente assim que projetos reais funcionam


====================================
14. RESUM√ÉO DA PARTE 1
====================================

- Promise √© a base de tudo
- async cria Promise automaticamente
- await espera Promise
- async N√ÉO trava o sistema
- await pausa s√≥ a fun√ß√£o
- fetch trabalha com Promise
- Seu c√≥digo est√° correto e profissional

========================================================
FIM DA PARTE 1
========================================================
-->
